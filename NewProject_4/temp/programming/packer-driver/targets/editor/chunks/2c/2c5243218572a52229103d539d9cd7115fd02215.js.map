{"version":3,"sources":["file:///Users/feiwang/NewProject_4/assets/resources/scripts/invite/inviteModel.ts"],"names":["_decorator","GlobalData","basePageView","ccclass","property","taskUrls","SearchTask","ClaimReward","CompleteTask","CheckIn","inviteModel","start","update","deltaTime","initData","getTaskList","taskList","window","axios","post","page","headers","token","data","error","console","log"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACFC,MAAAA,U;;AACEC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;0BAEjBK,Q,GAAW;AACtBC,QAAAA,UAAU,EAAE,8CADU;AAEtBC,QAAAA,WAAW,EAAE,+CAFS;AAGtBC,QAAAA,YAAY,EAAE,kDAHQ;AAItBC,QAAAA,OAAO,EAAE;AAJa,O;;6BA4CXC,W,WADZP,OAAO,CAAC,aAAD,C,gBAAR,MACaO,WADb;AAAA;AAAA,wCAC8C;AAC5CC,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE;;AAEd,cAARC,QAAQ,GAAE;AACd,gBAAM,KAAKC,WAAL,EAAN;AACD;;AAEgB,cAAXA,WAAW,GAAG;AAClB,cAAI;AACF,kBAAMC,QAAQ,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACrBd,QAAQ,CAACC,UADY,EAErB;AACIc,cAAAA,IAAI,EAAE;AADV,aAFqB,EAInB;AACEC,cAAAA,OAAO,EAAE;AACH,iCAAkB,UAAS;AAAA;AAAA,8CAAWC,KAAM;AADzC;AADX,aAJmB,CAAvB;AAUA,mBAAON,QAAQ,CAACO,IAAT,CAAcA,IAArB;AACD,WAZD,CAYE,OAAOC,KAAP,EAAc;AACdC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;;AAzB2C,O","sourcesContent":["import { _decorator, Component, Node } from \"cc\";\nimport GlobalData from \"../home/GloabalClass\";\nimport { basePageView } from \"../common/basePageView\";\nconst { ccclass, property } = _decorator;\n\nexport const taskUrls = {\n  SearchTask: \"https://api.infinitytest.cc/api/v1/task/list\",\n  ClaimReward: \"https://api.infinitytest.cc/api/v1/task/claim\",\n  CompleteTask: \"https://api.infinitytest.cc/api/v1/task/complete\",\n  CheckIn: \"https://api.infinitytest.cc/api/v1/task/checkIn\",\n};\n\nexport interface taskListResponseType {\n  code: string;\n  data: {\n    checkInList: {\n      checkInNo: string;\n      date: string;\n      point: number;\n      status: number;\n    }[];\n    gamePoint: number;\n    taskModelResponses: {\n      taskList: {\n        buttonText: string;\n        icon: string;\n        remark: string;\n        showMsg: string;\n        taskDesc: string;\n        taskId: number;\n        taskLink: string;\n        taskName: string;\n        taskReward: number;\n        taskType: number;\n        value1: number;\n        value2: string;\n      }[];\n      taskModelId: number;\n      taskModelName: string;\n      taskType: string;\n    }[];\n    totalInviteNum: number;\n    totalPoint: number;\n    twitterUserName: string;\n  };\n  message: string;\n}\n\n@ccclass(\"inviteModel\")\nexport class inviteModel extends basePageView {\n  start() {}\n\n  update(deltaTime: number) {}\n\n  async initData(){\n    await this.getTaskList()\n  }\n\n  async getTaskList() {\n    try {\n      const taskList = await window.axios.post<taskListResponseType>(\n        taskUrls.SearchTask,\n        {\n            page: 'GAME_LOBBY',\n        },{\n            headers: { \n                  'Authorization': `Bearer ${GlobalData.token}`\n            }\n        }\n      );\n      return taskList.data.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n"]}