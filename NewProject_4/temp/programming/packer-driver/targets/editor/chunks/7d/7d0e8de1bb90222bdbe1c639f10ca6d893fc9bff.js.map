{"version":3,"sources":["file:///Users/feiwang/NewProject_4/assets/resources/scripts/draw/drawModel.ts"],"names":["_decorator","basePageModel","GlobalConfig","ccclass","property","walletUrls","bindWallet","unbindWallet","queryBindWallet","drawModel","start","update","deltaTime","walletInfo","window","axios","post","data","code","unBindWallet","headers","_instance","token","getWalletInfo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,a,iBAAAA,a;;AAEAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;4BAejBK,U,GAAa;AACxBC,QAAAA,UAAU,EAAE,8DADY;AAExBC,QAAAA,YAAY,EACV,gEAHsB;AAIxBC,QAAAA,eAAe,EACb;AALsB,O;;2BAqCbC,S,WADZN,OAAO,CAAC,WAAD,C,gBAAR,MACaM,SADb;AAAA;AAAA,0CAC6C;AAC3CC,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE;;AAEZ,cAAVN,UAAU,GAAG;AAAA;;AACjB,gBAAMO,UAAU,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACvBX,UAAU,CAACC,UADY,CAAzB;AAGA,iBAAOO,UAAP,wCAAOA,UAAU,CAAEI,IAAnB,qBAAO,iBAAkBC,IAAzB;AACD;;AAEiB,cAAZC,YAAY,GAAG;AAAA;;AACnB,gBAAMN,UAAU,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACvBX,UAAU,CAACE,YADY,EAExB,EAFwB,EAErB;AACAa,YAAAA,OAAO,EAAE;AACL,4BAAc,mCADT;AAEL,8BAAgB,kBAFX;AAGL,+BAAiB;AAAA;AAAA,gDAAaC,SAAb,CAAuBC;AAHnC;AADT,WAFqB,CAAzB;AASA,iBAAOT,UAAP,yCAAOA,UAAU,CAAEI,IAAnB,qBAAO,kBAAkBC,IAAzB;AACD;;AAEkB,cAAbK,aAAa,GAAG;AAAA;;AACpB,gBAAMV,UAAU,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACvBX,UAAU,CAACG,eADY,CAAzB;AAGA,iBAAOK,UAAP,yCAAOA,UAAU,CAAEI,IAAnB,qBAAO,kBAAkBA,IAAzB;AACD;;AA9B0C,O","sourcesContent":["import { _decorator, Component, Node } from \"cc\";\nimport { basePageModel } from \"../common/basePageModel\";\nimport { AxiosResponse } from \"../login/loginModel\";\nimport { GlobalConfig } from \"../home/GlobalConfig\";\nconst { ccclass, property } = _decorator;\n\ndeclare global {\n  interface Window {\n    axios: {\n      post<T = any, R = AxiosResponse<T>, D = any>(\n        url: string,\n        data?: D,\n        config?: any\n      ): Promise<R>;\n    };\n    startCanvas: any;\n  }\n}\n\nexport const walletUrls = {\n  bindWallet: \"https://api.infinitytest.cc/api/v1/user/info/edit/bindWallet\",\n  unbindWallet:\n    \"https://api.infinitytest.cc/api/v1/user/info/edit/unbindWallet\",\n  queryBindWallet:\n    \"https://api.infinitytest.cc/api/v1/user/info/queryBindWallet\",\n};\n\nexport interface BindWalletData {\n  walletAddress: string;\n  walletChain: string;\n}\n\nexport interface BindWalletResponse {\n  code: string;\n  message: string;\n}\n\nexport interface UnbindWalletData {}\n\nexport interface UnbindWalletResponse {\n  code: string;\n  message: string;\n}\n\nexport interface QueryBindWalletData {}\n\nexport interface QueryBindWalletResponse {\n  code: string;\n  data: {\n    walletAddress: string;\n    walletChain: string;\n  };\n  message: string;\n}\n\n@ccclass(\"drawModel\")\nexport class drawModel extends basePageModel {\n  start() {}\n\n  update(deltaTime: number) {}\n\n  async bindWallet() {\n    const walletInfo = await window.axios.post<BindWalletResponse>(\n      walletUrls.bindWallet\n    );\n    return walletInfo?.data?.code;\n  }\n\n  async unBindWallet() {\n    const walletInfo = await window.axios.post<UnbindWalletResponse>(\n      walletUrls.unbindWallet\n    ,{},{\n        headers: { \n            'User-Agent': 'Apifox/1.0.0 (https://apifox.com)', \n            'Content-Type': 'application/json',\n            'authorization': GlobalConfig._instance.token\n          }\n    });\n    return walletInfo?.data?.code;\n  }\n\n  async getWalletInfo() {\n    const walletInfo = await window.axios.post<QueryBindWalletResponse>(\n      walletUrls.queryBindWallet\n    );\n    return walletInfo?.data?.data;\n  }\n}\n"]}