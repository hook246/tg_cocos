{"version":3,"sources":["file:///Users/feiwang/tg_cocos/NewProject_4/assets/resources/scripts/invite/inviteView.ts"],"names":["_decorator","Color","Label","Node","UITransform","basePageView","GlobalData","ccclass","property","inviteView_arrow","inviteView","copy_link","start","localStorage","getItem","arrow","active","arrow_s","update","deltaTime","setInviteInfo","totalInviteNum","totalPoint","points","string","String","invite_count","progress_point","point_multi1","getComponent","color","fontSize","point_multi1_c","setPosition","progress_bar","width","point_multi2","point_multi2_c","point_multi3","point_multi3_c","point_multi4","point_multi4_c","point_multi5","point_multi5_c","setInviteUrl","invite_url","isProduction","window","btoa","inviteCode","copyInviteLink","navigator","clipboard","writeText","then","copy_complete1","copy_complete2","scheduleOnce","catch","shareInviteToFriend","shareText","shareUrl","telegramShareUrl","encodeURIComponent","open","markArrow","setItem"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Color,\n  Component,\n  Label,\n  Node,\n  ScrollView,\n  UITransform,\n} from \"cc\";\nimport { basePageView } from \"../common/basePageView\";\nimport GlobalData from \"../home/GloabalClass\";\nconst { ccclass, property } = _decorator;\n\nconst inviteView_arrow = \"inviteView_arrow\";\n\n@ccclass(\"inviteView\")\nexport class inviteView extends basePageView {\n  @property(Label)\n  points: Label;\n\n  @property(Label)\n  invite_count: Label;\n\n  @property(Label)\n  point_multi1: Label;\n\n  @property(Label)\n  point_multi2: Label;\n\n  @property(Label)\n  point_multi3: Label;\n\n  @property(Label)\n  point_multi4: Label;\n\n  @property(Label)\n  point_multi5: Label;\n\n  @property(Label)\n  point_multi1_c: Label;\n\n  @property(Label)\n  point_multi2_c: Label;\n\n  @property(Label)\n  point_multi3_c: Label;\n\n  @property(Label)\n  point_multi4_c: Label;\n\n  @property(Label)\n  point_multi5_c: Label;\n\n  @property(Node)\n  progress_point: Node;\n\n  @property(Node)\n  progress_bar: Node;\n\n  @property(Label)\n  invite_url: Label;\n\n  @property(Node)\n  copy_complete1: Node;\n\n  @property(Node)\n  copy_complete2: Node;\n\n  @property(Node)\n  home: Node;\n\n  @property(Node)\n  arrow: Node;\n\n  @property(Node)\n  arrow_s: Node;\n\n  copy_link: string;\n\n  start() {\n    // this.node.getComponent(ScrollView).scrollToBottom()\n    // this.node.getComponent(ScrollView).scrollToTop()\n    if (localStorage.getItem(inviteView_arrow)) {\n      this.arrow.active = false;\n      this.arrow_s.active = true;\n    }\n  }\n\n  update(deltaTime: number) {}\n\n  setInviteInfo(totalInviteNum: number, totalPoint: number) {\n    //1 10 50 100 500\n    this.points.string = String(totalPoint);\n    this.invite_count.string = String(totalInviteNum);\n    this.progress_point.active = true;\n    if (totalInviteNum < 10) {\n      this.point_multi1.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi1.getComponent(Label).fontSize = 40;\n      this.point_multi1_c.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi1_c.getComponent(Label).fontSize = 40;\n      this.progress_point.setPosition(-316.604, 11.582);\n      this.progress_bar.getComponent(UITransform).width = 0;\n    } else if (totalInviteNum > 10 && totalInviteNum < 50) {\n      this.point_multi2.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi2.getComponent(Label).fontSize = 40;\n      this.point_multi2_c.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi2_c.getComponent(Label).fontSize = 40;\n      this.progress_point.setPosition(-157.125, 11.582);\n      this.progress_bar.getComponent(UITransform).width = 161.7;\n    } else if (totalInviteNum > 50 && totalInviteNum < 100) {\n      this.point_multi3.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi3.getComponent(Label).fontSize = 40;\n      this.point_multi3_c.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi3_c.getComponent(Label).fontSize = 40;\n      this.progress_point.setPosition(-2.941, 11.582);\n      this.progress_bar.getComponent(UITransform).width = 313.2;\n    } else if (totalInviteNum > 100 && totalInviteNum < 500) {\n      this.point_multi4.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi4.getComponent(Label).fontSize = 40;\n      this.point_multi4_c.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi4_c.getComponent(Label).fontSize = 40;\n      this.progress_point.setPosition(155.661, 11.582);\n      this.progress_bar.getComponent(UITransform).width = 460;\n    } else if (totalInviteNum > 500) {\n      this.point_multi5.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi5.getComponent(Label).fontSize = 40;\n      this.point_multi5_c.getComponent(Label).color = new Color(\"#ac84fa\");\n      this.point_multi5_c.getComponent(Label).fontSize = 40;\n      this.progress_point.setPosition(320.623, 11.582);\n      this.progress_bar.getComponent(UITransform).width = 620;\n    }\n    this.setInviteUrl();\n  }\n\n  setInviteUrl() {\n    this.invite_url.string = GlobalData.isProduction\n      ? `https://t.me/InfinityGround_bot/Infinityg?startapp=${window.btoa(\n          `{\"inviteCode\":\"${GlobalData.inviteCode}\"}`\n        )}`\n      : `https://t.me/infinity_ground_bot/infinity_ground_app?startapp=${window.btoa(\n          `{\"inviteCode\":\"${GlobalData.inviteCode}\"}`\n        )}`;\n    this.copy_link = GlobalData.isProduction\n      ? `https://t.me/InfinityGround_bot/Infinityg?startapp=${window.btoa(\n          `{\"inviteCode\":\"${GlobalData.inviteCode}\"}`\n        )}`\n      : `https://t.me/infinity_ground_bot/infinity_ground_app?startapp=${window.btoa(\n          `{\"inviteCode\":\"${GlobalData.inviteCode}\"}`\n        )}`;\n  }\n\n  copyInviteLink() {\n    navigator.clipboard\n      .writeText(this.copy_link)\n      .then(() => {\n        this.copy_complete1.active = true;\n        this.copy_complete2.active = true;\n        this.scheduleOnce(() => {\n          this.copy_complete1.active = false;\n          this.copy_complete2.active = false;\n        }, 2);\n      })\n      .catch(() => {});\n  }\n\n  shareInviteToFriend() {\n    const shareText =\n      \"üî•Join the biggest AI gaming platform on Telegram!\\nüéÆExperience infinite fun of AI Games and Earn Rewards.\";\n    const shareUrl = this.copy_link;\n\n    // ÊûÑÂª∫ Telegram share URL\n    const telegramShareUrl = `https://t.me/share/url?url=${encodeURIComponent(\n      shareUrl\n    )}&text=${encodeURIComponent(shareText)}`;\n\n    // ‰ΩøÁî® window.open Êù•Âî§Ëµ∑ÂàÜ‰∫´\n    window.open(telegramShareUrl, \"_blank\");\n  }\n\n  markArrow() {\n    localStorage.setItem(inviteView_arrow, \"inviteView_arrow\");\n    this.arrow.active = false;\n    this.arrow_s.active = true;\n  }\n}\n"]}