{"version":3,"sources":["file:///Users/feiwang/NewProject_4/assets/resources/scripts/invite/inviteView.ts"],"names":["_decorator","Label","Node","basePageView","GlobalData","ccclass","property","inviteView","copy_link","start","update","deltaTime","setInviteInfo","totalInviteNum","totalPoint","points","string","String","invite_count","point_multi","setInviteUrl","invite_url","window","btoa","inviteCode","copyInviteLink","navigator","clipboard","writeText","then","scheduleOnce","copy_complete1","active","copy_complete2","catch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC9BC,MAAAA,Y,iBAAAA,Y;;AACFC,MAAAA,U;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;4BAGjBO,U,WADZF,OAAO,CAAC,YAAD,C,UAELC,QAAQ,CAACL,KAAD,C,UAGRK,QAAQ,CAACL,KAAD,C,UAGRK,QAAQ,CAACL,KAAD,C,UAGRK,QAAQ,CAACL,KAAD,C,UAGRK,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,2BAjBX,MACaK,UADb;AAAA;AAAA,wCAC6C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAmBzCC,SAnByC;AAAA;;AAqB3CC,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE;;AAE5BC,QAAAA,aAAa,CAACC,cAAD,EAAyBC,UAAzB,EAA6C;AACxD;AACA,eAAKC,MAAL,CAAYC,MAAZ,GAAqBC,MAAM,CAACH,UAAD,CAA3B;AACA,eAAKI,YAAL,CAAkBF,MAAlB,GAA2BC,MAAM,CAACJ,cAAD,CAAjC;;AACA,kBAAQA,cAAR;AACE,iBAAK,CAAL;AACE,mBAAKM,WAAL,CAAiBH,MAAjB,GAA0B,IAA1B;AACA;;AAEF,iBAAK,EAAL;AACE,mBAAKG,WAAL,CAAiBH,MAAjB,GAA0B,IAA1B;AACA;;AAEF,iBAAK,EAAL;AACE,mBAAKG,WAAL,CAAiBH,MAAjB,GAA0B,IAA1B;AAEA;;AAEF,iBAAK,GAAL;AACE,mBAAKG,WAAL,CAAiBH,MAAjB,GAA0B,IAA1B;AAEA;;AAEF,iBAAK,GAAL;AACE,mBAAKG,WAAL,CAAiBH,MAAjB,GAA0B,IAA1B;AAEA;;AAEF;AACE;AAzBJ;AA2BD;;AAEDI,QAAAA,YAAY,GAAE;AACZ,eAAKC,UAAL,CAAgBL,MAAhB,GAA0B,iEAAgEM,MAAM,CAACC,IAAP,CAAa,cAAa;AAAA;AAAA,wCAAWC,UAAW,EAAhD,CAAmD,EAA7I;AACA,eAAKhB,SAAL,GAAkB,iEAAgEc,MAAM,CAACC,IAAP,CAAa,cAAa;AAAA;AAAA,wCAAWC,UAAW,EAAhD,CAAmD,EAArI;AACD;;AAEDC,QAAAA,cAAc,GAAE;AACdC,UAAAA,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8B,KAAKpB,SAAnC,EAA8CqB,IAA9C,CAAmD,MAAK;AACpD,iBAAKC,YAAL,CAAkB,MAAI;AAClB,mBAAKC,cAAL,CAAoBC,MAApB,GAA6B,IAA7B;AACA,mBAAKC,cAAL,CAAoBD,MAApB,GAA6B,IAA7B;AACH,aAHD,EAGG,CAHH;AAID,WALH,EAKKE,KALL,CAKW,MAAM,CAEd,CAPH;AAQD;;AAxE0C,O","sourcesContent":["import { _decorator, Component, Label, Node } from \"cc\";\nimport { basePageView } from \"../common/basePageView\";\nimport GlobalData from \"../home/GloabalClass\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"inviteView\")\nexport class inviteView extends basePageView {\n  @property(Label)\n  points: Label;\n\n  @property(Label)\n  invite_count: Label;\n\n  @property(Label)\n  point_multi: Label;\n\n  @property(Label)\n  invite_url: Label;\n\n  @property(Node)\n  copy_complete1: Node;\n\n  @property(Node)\n  copy_complete2: Node;\n\n    copy_link: string;\n\n  start() {}\n\n  update(deltaTime: number) {}\n\n  setInviteInfo(totalInviteNum: number, totalPoint: number) {\n    //1 10 50 100 500\n    this.points.string = String(totalPoint);\n    this.invite_count.string = String(totalInviteNum);\n    switch (totalInviteNum) {\n      case 1:\n        this.point_multi.string = \"1x\";\n        break;\n\n      case 10:\n        this.point_multi.string = \"2x\";\n        break;\n\n      case 50:\n        this.point_multi.string = \"3x\";\n\n        break;\n\n      case 100:\n        this.point_multi.string = \"4x\";\n\n        break;\n\n      case 500:\n        this.point_multi.string = \"5x\";\n\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  setInviteUrl(){\n    this.invite_url.string = `https://t.me/infinity_ground_bot/infinity_ground_app?startapp=${window.btoa(`inviteCode:${GlobalData.inviteCode}`)}`\n    this.copy_link = `https://t.me/infinity_ground_bot/infinity_ground_app?startapp=${window.btoa(`inviteCode:${GlobalData.inviteCode}`)}`\n  }\n\n  copyInviteLink(){\n    navigator.clipboard.writeText(this.copy_link).then(()=> {\n        this.scheduleOnce(()=>{\n            this.copy_complete1.active = true\n            this.copy_complete2.active = true\n        }, 2)\n      }).catch(() => {\n\n      });\n  }\n}\n"]}