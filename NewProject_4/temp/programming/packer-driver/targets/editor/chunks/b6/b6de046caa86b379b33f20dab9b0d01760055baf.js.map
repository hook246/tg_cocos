{"version":3,"sources":["file:///Users/feiwang/NewProject_4/assets/resources/scripts/earn/earnView.ts"],"names":["_decorator","Button","instantiate","Label","Node","Prefab","ProgressBar","basePageView","inviteModel","GlobalData","homeView","taskNodeInfo","WebUtils","profileView","ccclass","property","ChangeType","TaskNodeChangeType","TaskType","twitterTaskId","taskUrls","SearchTask","ClaimReward","CompleteTask","CheckIn","RefreshTwitter","earnView","type","start","refreshTwitterCode","data","window","axios","post","headers","Authorization","token","completeTask","id","bindData","taskId","freshDailyTask","daily_parent","children","forEach","node","info","getComponent","taskInfo","taskData","taskModelResponses","taskResponseList","find","list","status","checkIn","index","config","method","url","then","taskList","code","changeCheckTaskState","homePage","invitePage","initData","catch","error","console","log","claimReward","initTaskNode","checkInList","task","setCheckTaskNode","check_btns","on","EventType","CLICK","now","Date","year","getFullYear","month","getMonth","day","getDate","date","clickCheckTaskNode","Telegram","WebApp","showAlert","taskListPart","taskModelName","initSocialTaskNode","initDailyTaskNode","sortByStatus","socialTasks","sort","a","b","showCheckInfoPopUp","showPopup","title","message","buttons","text","buttonId","profile","setTwitterInfo","child","social_prefab","unlock","getChildByName","active","updateSocialTaskUiByState","INIT","indexOf","twitterUserName","checkTwitterPre","openLink","taskLink","tryInstantView","task_response","changeDailyOrSocialTaskState","shiftTaskRange","UP","SOCIAL","wallet_address","shiftCurrentPage","currentTarget","drawPageBtn","DAILY","DOWN","social_parent","addChild","dailyTasks","daily_prefab","updateDailyTaskUiByState","discoverPageBtn","taskType","length","Error","taskNodePosY","tasks","push","getPosition","pointToMove","splice","setPosition","twitterOauthUrl","scheduleOnce","string","String","point","getRemoteImg","icon","taskReward","taskName","value","update","deltaTime"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Button,\n  Component,\n  EventHandler,\n  EventTouch,\n  instantiate,\n  Label,\n  Node,\n  Prefab,\n  ProgressBar,\n} from \"cc\";\nimport { basePageView } from \"../common/basePageView\";\nimport { inviteModel, taskListResponseType } from \"../invite/inviteModel\";\nimport GlobalData from \"../home/GloabalClass\";\nimport { homeView } from \"../home/homeView\";\nimport { taskNodeInfo } from \"./taskNodeInfo\";\nimport WebUtils from \"../common/WebUtils\";\nimport { profileView } from \"../profile/profileView\";\nconst { ccclass, property } = _decorator;\n\nexport enum ChangeType {\n  INIT = 0,\n  CLICK = 1,\n}\n\nexport enum TaskNodeChangeType {\n    UP = 0,\n    DOWN = 1\n}\n\nexport enum TaskType {\n    SOCIAL = 0,\n    DAILY = 1\n}\n\nexport const twitterTaskId = [9, 10, 11, 12, 104];\n\nexport interface TaskData {\n  buttonText: string;\n  icon: string;\n  remark: string;\n  showMsg: string;\n  taskDesc: string;\n  taskId: number;\n  taskLink: string;\n  taskName: string;\n  taskReward: number;\n  taskType: number;\n  value1: number;\n  value2: string;\n  status: number;\n  unlock: number\n}\n\nexport interface TaskDataList {\n  taskResponseList: {\n    buttonText: string;\n    icon: string;\n    remark: string;\n    showMsg: string;\n    taskDesc: string;\n    taskId: number;\n    taskLink: string;\n    taskName: string;\n    taskReward: number;\n    taskType: number;\n    value1: number;\n    value2: string;\n    status: number;\n    unlock: number\n  }[];\n  taskModelId: number;\n  taskModelName: string;\n  taskType: string;\n}\n\nexport interface completeTaskResponse{\n    \n        code: string,\n        message: string\n    \n}\n\nexport const taskUrls = {\n  SearchTask: \"https://api.infinitytest.cc/api/v1/task/list\",\n  ClaimReward: \"https://api.infinitytest.cc/api/v1/task/claim\",\n  CompleteTask: \"https://api.infinitytest.cc/api/v1/task/complete\",\n  CheckIn: \"https://api.infinitytest.cc/api/v1/task/checkIn\",\n  RefreshTwitter: \"https://api.infinitytest.cc/api/v1/oauth/refreshTwitterCode\",\n};\n\n@ccclass(\"earnView\")\nexport class earnView extends basePageView {\n  @property(Prefab)\n  social_prefab: Prefab;\n\n  @property(Prefab)\n  daily_prefab: Prefab;\n\n  @property(Node)\n  social_parent: Node;\n\n  @property(Node)\n  daily_parent: Node;\n\n  @property(Node)\n  discoverPage: Node;\n\n  @property(Node)\n  homePage: Node;\n\n  @property({ type: [Node] })\n  check_btns: Node[] = [];\n\n  start() {}\n\n  async refreshTwitterCode(){\n    const data = await window.axios.post<completeTaskResponse>(\n        taskUrls.RefreshTwitter,\n        {\n\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${GlobalData.token}`,\n          },\n        }\n      );\n  }\n\n  async completeTask(id: number) {\n    const bindData = await window.axios.post<completeTaskResponse>(\n      taskUrls.CompleteTask,\n      {\n        taskId: id,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${GlobalData.token}`,\n        },\n      }\n    );\n    return bindData\n  }\n\n  freshDailyTask(){\n    this.daily_parent.children.forEach((node)=>{\n        const info = node.getComponent(taskNodeInfo).taskInfo\n        GlobalData.taskData.data.data.taskModelResponses[1].taskResponseList.find((list)=>{\n            if(list.taskId === info.taskId){\n                info.status = list.status\n            }\n        })\n\n    })\n  }\n\n  async checkIn(index: number) {\n    var config = {\n      method: \"post\",\n      url: taskUrls.CheckIn,\n      headers: {\n        \"User-Agent\": \"Apifox/1.0.0 (https://apifox.com)\",\n        Authorization: `Bearer ${GlobalData.token}`,\n      },\n    };\n\n    await (window.axios as any)(config)\n      .then(async (taskList: taskListResponseType) => {\n        if (taskList.data.code === \"90000\") {\n          this.changeCheckTaskState(index);\n          await this.homePage.getComponent(homeView).invitePage.getComponent(inviteModel).initData()\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    \n  }\n\n  async claimReward(id: number) {\n    const bindData = await window.axios.post<any>(\n      taskUrls.ClaimReward,\n      {\n        taskId: id,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${GlobalData.token}`,\n        },\n      }\n    );\n    await this.homePage.getComponent(homeView).invitePage.getComponent(inviteModel).initData()\n  }\n\n  initTaskNode(info: taskListResponseType) {\n    info.data.data.checkInList.forEach((task, index) => {\n      this.setCheckTaskNode(task, index);\n      this.check_btns[index].on(\n        Button.EventType.CLICK,\n        async () => {\n          const now = new Date();\n\n          const year = now.getFullYear();\n          const month =\n            now.getMonth() + 1 < 10\n              ? `0${now.getMonth() + 1}`\n              : now.getMonth() + 1;\n          const day = now.getDate() < 10 ? `0${now.getDate()}` : now.getDate();\n\n          const date = `${year}-${month}-${day}`;\n          if (date === task.date) {\n            await this.clickCheckTaskNode(index);\n          } else {\n            window.Telegram.WebApp.showAlert(\"Can only sign in today!\", () => {\n              // 用户点击关闭按钮后调用的回调函数\n              console.log(\"\");\n            });\n          }\n        },\n        this\n      );\n    });\n\n    info.data.data.taskModelResponses.forEach((taskListPart) => {\n      if (taskListPart.taskModelName === \"Social tasks\") {\n        this.initSocialTaskNode(taskListPart as unknown as TaskDataList);\n      }\n      if (taskListPart.taskModelName === \"Daily tasks\") {\n        this.initDailyTaskNode(taskListPart as unknown as TaskDataList);\n      }\n    });\n  }\n\n  sortByStatus(info: TaskDataList) {\n    const socialTasks = info.taskResponseList.sort((a, b) => {\n      // 如果一个是2，另一个不是2，则2在前\n      if (a.status === 2) return -1;\n      if (b.status === 2) return 1;\n\n      // 如果一个是3，另一个不是3，则3在后\n      if (a.status === 3) return 1;\n      if (b.status === 3) return -1;\n\n      // 如果一个是0或1，另一个是3，则0或1在前\n      if ((a.status === 0 || a.status === 1) && b.status === 3) return -1;\n      if ((b.status === 0 || b.status === 1) && a.status === 3) return 1;\n\n      // 如果一个是0或1，另一个是2，则0或1在后\n      if ((a.status === 0 || a.status === 1) && b.status === 2) return 1;\n      if ((b.status === 0 || b.status === 1) && a.status === 2) return -1;\n\n      // 否则，保持原始顺序（即0和1的相对位置不变）\n      return 0;\n    });\n    return socialTasks;\n  }\n\n  showCheckInfoPopUp(){\n    window.Telegram.WebApp.showPopup({\n        title: 'Complete',\n        message: 'If you have already bound your twitter, please click \"OK\"!',\n        buttons: [\n          { id: 'button1', text: 'ok' },\n        ]\n      }, async (buttonId) => {\n        // 弹出窗口关闭时的回调函数\n        if (buttonId) {\n          switch (buttonId) {\n            case 'button1':\n              await this.homePage.getComponent(homeView).invitePage.getComponent(inviteModel).initData()\n              this.homePage.getComponent(homeView).profile.getComponent(profileView).setTwitterInfo()\n              break;\n            default:\n              console.log('未知的按钮被点击');\n          }\n        } else {\n          console.log('弹出窗口被关闭，没有点击任何按钮');\n        }\n      });\n  }\n\n  initSocialTaskNode(info: TaskDataList) {\n    const socialTasks = this.sortByStatus(info);\n    socialTasks.forEach((task, index) => {\n      const child = instantiate(this.social_prefab);\n      child.getComponent(taskNodeInfo).taskInfo = task;\n      if(task.unlock === 0){\n        child.getChildByName('locked').active = true;\n      }\n      this.updateSocialTaskUiByState(child, ChangeType.INIT, index);\n      child.on(\n        Button.EventType.CLICK,\n        async () => {\n            if(task.unlock === 0){\n                window.Telegram.WebApp.showAlert(\"Coming soon!\", () => {\n                    console.log(\"\");\n                  });\n                  return\n              }\n          if (child.getComponent(taskNodeInfo).taskInfo.status === 3) {\n            return;\n          }\n          \n          if (\n            twitterTaskId.indexOf(\n                child.getComponent(taskNodeInfo).taskInfo.taskId\n            ) >= 0 &&\n            !GlobalData.taskData.data.data.twitterUserName\n          ) {\n            this.checkTwitterPre()\n            return;\n          }\n          if (\n            child.getComponent(taskNodeInfo).taskInfo.status === 1 ||\n            child.getComponent(taskNodeInfo).taskInfo.status === 0\n          ) {\n            if(task.taskId !== 16){\n                //是否是钱包任务\n                window.Telegram.WebApp.openLink(task.taskLink, {\n                    tryInstantView: true,\n                  });\n                  const task_response = await this.completeTask(task.taskId);\n                  if(task_response?.data.code === '2004'){\n                    await this.refreshTwitterCode()\n                  }else{\n                    this.changeDailyOrSocialTaskState(2, index, child);\n                    this.shiftTaskRange(index, TaskNodeChangeType.UP, TaskType.SOCIAL)\n                  }\n\n            }else{\n                if(!GlobalData.wallet_address){\n                    window.Telegram.WebApp.showPopup({\n                        title: '',\n                        message: 'Please bind wallet first!',\n                        buttons: [\n                          { id: 'button1', text: 'ok' },\n                        ]\n                      }, async (buttonId) => {\n                        // 弹出窗口关闭时的回调函数\n                        if (buttonId) {\n                          switch (buttonId) {\n                            case 'button1':\n                                this.homePage\n                                .getComponent(homeView)\n                                .shiftCurrentPage(\n                                  {\n                                    currentTarget:\n                                      this.homePage.getComponent(homeView).drawPageBtn,\n                                  } as EventTouch,\n                                  \"3\"\n                                );\n                              break;\n                            default:\n                          }\n                        }\n                      });\n                }else{\n                    const task_response = await this.completeTask(task.taskId);\n                    if(task_response?.data.code === '2004'){\n                        await this.refreshTwitterCode()\n                    }else{\n                        this.changeDailyOrSocialTaskState(2, index, child);\n                        this.shiftTaskRange(index, TaskNodeChangeType.UP, TaskType.DAILY)\n                    }\n\n                }\n            }\n\n          }else if (child.getComponent(taskNodeInfo).taskInfo.status === 2) {\n            await this.claimReward(task.taskId);\n            this.changeDailyOrSocialTaskState(2, index, child);\n            this.shiftTaskRange(index, TaskNodeChangeType.DOWN, TaskType.SOCIAL)\n          }\n        },\n        this\n      );\n\n      this.social_parent.addChild(child);\n    });\n  }\n\n  initDailyTaskNode(info: TaskDataList) {\n    const dailyTasks = this.sortByStatus(info);\n    dailyTasks.forEach((task, index) => {\n      const child = instantiate(this.daily_prefab);\n      child.getComponent(taskNodeInfo).taskInfo = task;\n      if(task.unlock === 0){\n        child.getChildByName('locked').active = true;\n      }\n      this.updateDailyTaskUiByState(child, ChangeType.INIT, index);\n      child.on(\n        Button.EventType.CLICK,\n        async () => {\n            if(task.unlock === 0){\n                window.Telegram.WebApp.showAlert(\"Coming soon!\", () => {\n                    console.log(\"\");\n                  });\n                return\n              }\n\n              if (\n                twitterTaskId.indexOf(\n                    child.getComponent(taskNodeInfo).taskInfo.taskId\n                ) >= 0 &&\n                !GlobalData.taskData.data.data.twitterUserName\n              ) {\n                this.checkTwitterPre()\n                return;\n              }\n          if (child.getComponent(taskNodeInfo).taskInfo.status === 3) {\n            return;\n          }\n          if (\n            child.getComponent(taskNodeInfo).taskInfo.status === 1 ||\n            child.getComponent(taskNodeInfo).taskInfo.status === 0\n          ) {\n            //跳转大厅\n            this.homePage\n              .getComponent(homeView)\n              .shiftCurrentPage(\n                {\n                  currentTarget:\n                    this.homePage.getComponent(homeView).discoverPageBtn,\n                } as EventTouch,\n                \"0\"\n              );\n            // this.discoverPage.setPosition(0, 0);\n            // this.node.setPosition(-5000, 0);\n            //await this.completeTask(task.taskId);\n            this.changeDailyOrSocialTaskState(3, index, child);\n          }else if (child.getComponent(taskNodeInfo).taskInfo.status === 2) {\n            await this.claimReward(task.taskId);\n            this.changeDailyOrSocialTaskState(3, index, child);\n            this.shiftTaskRange(index, TaskNodeChangeType.DOWN, TaskType.DAILY)\n          }\n        },\n        this\n      );\n\n      this.daily_parent.addChild(child);\n    });\n  }\n\n  shiftTaskRange(index: number, type: TaskNodeChangeType, taskType: TaskType){\n    if (index < 0 || index >= length) {\n        throw new Error('Index out of bounds');\n    }\n    let taskNodePosY = []\n    const tasks = taskType === TaskType.SOCIAL ? this.social_parent.children : this.social_parent.children\n    tasks.forEach((task, index)=>{\n        taskNodePosY.push(task.getPosition())\n    })\n    if(type === TaskNodeChangeType.UP){\n      // 将指定索引的元素移动到数组的最后面\n      const [pointToMove] = taskNodePosY.splice(index, 1); // 移除指定索引的元素\n      taskNodePosY.push(pointToMove); // 将该元素添加到数组的末尾\n    }else{\n        const [pointToMove] = taskNodePosY.splice(index, 1); // 移除指定索引的元素\n        taskNodePosY.push(pointToMove); // 将该元素添加到数组的末尾\n    }\n    this.social_parent.children.forEach((node, index)=>{\n        node.setPosition(taskNodePosY[index])\n      })\n  }\n\n  checkTwitterPre(){\n        const twitterOauthUrl = `https://www.infinitytest.cc?tgId=${GlobalData.token}`\n        //this.profileView.closeProfile()\n        window.Telegram.WebApp.showPopup({\n            title: 'Please bind your twitter',\n            message: 'Bind your twitter and start the exploration!',\n            buttons: [\n              { id: 'button1', text: 'bind now' },\n            ]\n          }, (buttonId) => {\n            // 弹出窗口关闭时的回调函数\n            if (buttonId) {\n              switch (buttonId) {\n                case 'button1':\n                  window.Telegram.WebApp.openLink(`${twitterOauthUrl}`, { tryInstantView: false });\n                  this.scheduleOnce(()=>{\n                    this.showCheckInfoPopUp()\n                  }, 2)\n                  break;\n                default:\n                  console.log('');\n              }\n            } else {\n              console.log('');\n            }\n          });\n  }\n\n  async clickCheckTaskNode(index: number) {\n    await this.checkIn(index);\n  }\n\n  setCheckTaskNode(info, index) {\n    this.check_btns[index].getChildByName(\"count\").getComponent(Label).string =\n      String(GlobalData.taskData.data.data.checkInList[index].point);\n    if (info.status === 1) {\n      this.changeCheckTaskState(index);\n    }\n  }\n\n  changeCheckTaskState(index: number) {\n    this.check_btns[index].getChildByName(\"uncoplete\").active = false;\n    this.check_btns[index].getChildByName(\"complete\").active = true;\n    this.check_btns[index].getChildByName(\"check\").active = true;\n    this.check_btns[index].getChildByName(\"dollar\").active = false;\n  }\n\n  changeDailyOrSocialTaskState(type, index, node: Node) {\n    if (type === 2) {\n      this.updateSocialTaskUiByState(node, ChangeType.CLICK, index);\n      //改变ui\n    }\n    if (type === 3) {\n      //改变ui\n      this.updateDailyTaskUiByState(node, ChangeType.CLICK, index);\n    }\n  }\n\n  async updateDailyTaskUiByState(node, type: ChangeType, index: number) {\n    const info = node.getComponent(taskNodeInfo).taskInfo;\n    WebUtils.getRemoteImg(info.icon, node.getChildByName(\"icon\"))\n    node.getChildByName(\"count\").getComponent(Label).string = info.taskReward;\n    node.getChildByName(\"desc\").getComponent(Label).string = info.taskName;\n    //node.getChildByName('ProgressBar').getComponent(ProgressBar).value = info\n\n    if (type === ChangeType.INIT) {\n      if (info.status === 1 || info.status === 0) {\n        node.getChildByName(\"un_complete_bg\").active = true;\n        node.getChildByName(\"complete_bg\").active = false;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 0;\n      }else if (info.status === 2) {\n        node.getChildByName(\"un_complete_bg\").active = false;\n        node.getChildByName(\"complete_bg\").active = true;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n      }else if (info.status === 3) {\n        node.getChildByName(\"un_complete_bg\").active = false;\n        node.getChildByName(\"complete_bg\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n      }\n    } else {\n      if (info.status === 1 || info.status === 0) {\n        // node.getChildByName(\"un_complete_bg\").active = false;\n        // node.getChildByName(\"complete_bg\").active = true;\n        // node.getChildByName(\"dollar\").active = true;\n        // node.getChildByName(\"count\").active = true;\n        // node.getChildByName(\"check\").active = false;\n        // node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n      }else if (info.status === 2) {\n        node.getChildByName(\"un_complete_bg\").active = false;\n        node.getChildByName(\"complete_bg\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n      }\n    }\n  }\n\n  updateSocialTaskUiByState(node, type: ChangeType, index: number) {\n    const info = node.getComponent(taskNodeInfo).taskInfo;\n    WebUtils.getRemoteImg(info.icon, node.getChildByName(\"icon\"))\n    node.getChildByName(\"count\").getComponent(Label).string = info.taskReward;\n    node.getChildByName(\"desc\").getComponent(Label).string = info.taskName;\n\n    if (type == ChangeType.INIT) {\n      if (info.status === 1 || info.status === 0) {\n        node.getChildByName(\"uncomplete\").active = true;\n        node.getChildByName(\"complete\").active = false;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n      }else if (info.status === 2) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n      }else if (info.status === 3) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n      }\n    } else {\n      if (info.status === 1 || info.status === 0) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n        info.status = 2;\n      }else if (info.status === 2) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n        info.status = 3;\n      }\n    }\n  }\n\n  update(deltaTime: number) {}\n}\n"]}