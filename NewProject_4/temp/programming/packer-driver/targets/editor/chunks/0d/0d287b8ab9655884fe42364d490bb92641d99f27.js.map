{"version":3,"sources":["file:///Users/feiwang/NewProject_4/assets/resources/scripts/discover/discoverModel.ts"],"names":["_decorator","Component","GlobalData","ccclass","property","gamesUrls","paly_list","click","discoverModel","play_list","start","update","deltaTime","initData","getGames","walletInfo","window","axios","post","type","headers","token","data","getUgcs","playCurrentGame","gameId","adId"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACdC,MAAAA,U;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;2BAEjBK,S,GAAY;AACrBC,QAAAA,SAAS,EAAE,oDADU;AAErBC,QAAAA,KAAK,EAAG;AAFa,O;;+BAwBZC,a,WADZL,OAAO,CAAC,eAAD,C,gBAAR,MACaK,aADb,SACmCP,SADnC,CAC6C;AAAA;AAAA;AAAA,eAEzCQ,SAFyC;AAAA;;AAIzCC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,QAAQ,GAAE,CAET;;AAEa,cAARC,QAAQ,GAAE;AAAA;;AACZ,gBAAMC,UAAU,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACrBb,SAAS,CAACC,SADW,EAEtB;AACCa,YAAAA,IAAI,EAAE;AADP,WAFsB,EAIrB;AACEC,YAAAA,OAAO,EAAE;AACH,+BAAkB,UAAS;AAAA;AAAA,4CAAWC,KAAM;AADzC;AADX,WAJqB,CAAzB;AASE,iBAAON,UAAP,wCAAOA,UAAU,CAAEO,IAAnB,qBAAO,iBAAkBA,IAAzB;AACL;;AAEY,cAAPC,OAAO,GAAE;AAAA;;AACX,gBAAMR,UAAU,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACrBb,SAAS,CAACC,SADW,EAEtB;AACCa,YAAAA,IAAI,EAAE;AADP,WAFsB,EAIrB;AACEC,YAAAA,OAAO,EAAE;AACH,+BAAkB,UAAS;AAAA;AAAA,4CAAWC,KAAM;AADzC;AADX,WAJqB,CAAzB;AASE,iBAAON,UAAP,yCAAOA,UAAU,CAAEO,IAAnB,qBAAO,kBAAkBA,IAAzB;AACL;;AAEoB,cAAfE,eAAe,CAACC,MAAD,EAAgB;AAAA;;AACjC,gBAAMV,UAAU,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACrBb,SAAS,CAACE,KADW,EAEtB;AACCmB,YAAAA,IAAI,EAAED;AADP,WAFsB,EAIrB;AACEL,YAAAA,OAAO,EAAE;AACH,+BAAkB,UAAS;AAAA;AAAA,4CAAWC,KAAM;AADzC;AADX,WAJqB,CAAzB;AASE,iBAAON,UAAP,yCAAOA,UAAU,CAAEO,IAAnB,qBAAO,kBAAkBA,IAAzB;AACL;;AArDwC,O","sourcesContent":["import { _decorator, Component, InstanceMaterialType, Node } from 'cc';\nimport GlobalData from '../home/GloabalClass';\nconst { ccclass, property } = _decorator;\n\nexport const gamesUrls = {\n    paly_list: 'https://api.infinitytest.cc/hall/api/discover/list',\n    click : 'https://api.infinitytest.cc/hall/api/discover/click'\n}\n\nexport interface GamesDataType{\n    code: string;\n    data: {\n        desc:string,\n        hot: number,\n        id: number,\n        name: string,\n        position: number,\n        sort: number,\n        tags: string[],\n        type: number,\n        url: string\n    }\n    message: string;\n}\n\n\n\n@ccclass('discoverModel')\nexport class discoverModel extends Component {\n\n    play_list: any[]\n\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    initData(){\n\n    }\n\n    async getGames(){\n        const walletInfo = await window.axios.post<GamesDataType>(\n            gamesUrls.paly_list\n          ,{\n            type: 1\n          },{\n              headers: { \n                    'Authorization': `Bearer ${GlobalData.token}`\n                }\n          });\n          return walletInfo?.data?.data;\n    }\n\n    async getUgcs(){\n        const walletInfo = await window.axios.post<GamesDataType>(\n            gamesUrls.paly_list\n          ,{\n            type: 2\n          },{\n              headers: { \n                    'Authorization': `Bearer ${GlobalData.token}`\n                }\n          });\n          return walletInfo?.data?.data;\n    }\n\n    async playCurrentGame(gameId: number){\n        const walletInfo = await window.axios.post<any>(\n            gamesUrls.click\n          ,{\n            adId: gameId\n          },{\n              headers: { \n                    'Authorization': `Bearer ${GlobalData.token}`\n                }\n          });\n          return walletInfo?.data?.data;\n    }\n}\n\n"]}