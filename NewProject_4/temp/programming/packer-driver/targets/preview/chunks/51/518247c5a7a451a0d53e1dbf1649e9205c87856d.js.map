{"version":3,"sources":["file:///Users/feiwang/NewProject_4/assets/resources/scripts/draw/drawModel.ts"],"names":["_decorator","basePageModel","GlobalConfig","ccclass","property","walletUrls","bindWallet","unbindWallet","queryBindWallet","drawModel","start","update","deltaTime","walletInfo","window","axios","post","walletAddress","walletChain","headers","_instance","token","data","code","unBindWallet","getWalletInfo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,a,iBAAAA,a;;AAEAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;4BAejBK,U,GAAa;AACxBC,QAAAA,UAAU,EAAE,8DADY;AAExBC,QAAAA,YAAY,EACV,gEAHsB;AAIxBC,QAAAA,eAAe,EACb;AALsB,O;;2BAqCbC,S,WADZN,OAAO,CAAC,WAAD,C,gBAAR,MACaM,SADb;AAAA;AAAA,0CAC6C;AAC3CC,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE;;AAEtBN,QAAAA,UAAU,GAAG;AAAA;AAAA;;AACjB,gBAAMO,UAAU,SAASC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACvBX,UAAU,CAACC,UADY,EACD;AACpBW,cAAAA,aAAa,EAAE,EADK;AAEpBC,cAAAA,WAAW,EAAE;AAFO,aADC,EAIrB;AACAC,cAAAA,OAAO,EAAE;AACL,8BAAc,mCADT;AAEL,gCAAgB,kBAFX;AAGL,iCAAiB;AAAA;AAAA,kDAAaC,SAAb,CAAuBC;AAHnC;AADT,aAJqB,CAAzB;AAYA,mBAAOR,UAAP,wCAAOA,UAAU,CAAES,IAAnB,qBAAO,iBAAkBC,IAAzB;AAbiB;AAclB;;AAEKC,QAAAA,YAAY,GAAG;AAAA;AAAA;;AACnB,gBAAMX,UAAU,SAASC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACvBX,UAAU,CAACE,YADY,EAExB,EAFwB,EAErB;AACAY,cAAAA,OAAO,EAAE;AACL,8BAAc,mCADT;AAEL,gCAAgB,kBAFX;AAGL,iCAAiB;AAAA;AAAA,kDAAaC,SAAb,CAAuBC;AAHnC;AADT,aAFqB,CAAzB;AASA,mBAAOR,UAAP,yCAAOA,UAAU,CAAES,IAAnB,qBAAO,kBAAkBC,IAAzB;AAVmB;AAWpB;;AAEKE,QAAAA,aAAa,GAAG;AAAA;AAAA;;AACpB,gBAAMZ,UAAU,SAASC,MAAM,CAACC,KAAP,CAAaC,IAAb,CACvBX,UAAU,CAACG,eADY,CAAzB;AAGA,mBAAOK,UAAP,yCAAOA,UAAU,CAAES,IAAnB,qBAAO,kBAAkBA,IAAzB;AAJoB;AAKrB;;AAvC0C,O","sourcesContent":["import { _decorator, Component, Node } from \"cc\";\nimport { basePageModel } from \"../common/basePageModel\";\nimport { AxiosResponse } from \"../login/loginModel\";\nimport { GlobalConfig } from \"../home/GlobalConfig\";\nconst { ccclass, property } = _decorator;\n\ndeclare global {\n  interface Window {\n    axios: {\n      post<T = any, R = AxiosResponse<T>, D = any>(\n        url: string,\n        data?: D,\n        config?: any\n      ): Promise<R>;\n    };\n    startCanvas: any;\n  }\n}\n\nexport const walletUrls = {\n  bindWallet: \"https://api.infinitytest.cc/api/v1/user/info/edit/bindWallet\",\n  unbindWallet:\n    \"https://api.infinitytest.cc/api/v1/user/info/edit/unbindWallet\",\n  queryBindWallet:\n    \"https://api.infinitytest.cc/api/v1/user/info/queryBindWallet\",\n};\n\nexport interface BindWalletData {\n  walletAddress: string;\n  walletChain: string;\n}\n\nexport interface BindWalletResponse {\n  code: string;\n  message: string;\n}\n\nexport interface UnbindWalletData {}\n\nexport interface UnbindWalletResponse {\n  code: string;\n  message: string;\n}\n\nexport interface QueryBindWalletData {}\n\nexport interface QueryBindWalletResponse {\n  code: string;\n  data: {\n    walletAddress: string;\n    walletChain: string;\n  };\n  message: string;\n}\n\n@ccclass(\"drawModel\")\nexport class drawModel extends basePageModel {\n  start() {}\n\n  update(deltaTime: number) {}\n\n  async bindWallet() {\n    const walletInfo = await window.axios.post<BindWalletResponse>(\n      walletUrls.bindWallet,{\n        walletAddress: '',\n        walletChain: '',\n      },{\n        headers: { \n            'User-Agent': 'Apifox/1.0.0 (https://apifox.com)', \n            'Content-Type': 'application/json',\n            'authorization': GlobalConfig._instance.token\n          }\n      }\n    );\n    return walletInfo?.data?.code;\n  }\n\n  async unBindWallet() {\n    const walletInfo = await window.axios.post<UnbindWalletResponse>(\n      walletUrls.unbindWallet\n    ,{},{\n        headers: { \n            'User-Agent': 'Apifox/1.0.0 (https://apifox.com)', \n            'Content-Type': 'application/json',\n            'authorization': GlobalConfig._instance.token\n          }\n    });\n    return walletInfo?.data?.code;\n  }\n\n  async getWalletInfo() {\n    const walletInfo = await window.axios.post<QueryBindWalletResponse>(\n      walletUrls.queryBindWallet\n    );\n    return walletInfo?.data?.data;\n  }\n}\n"]}