{"version":3,"sources":["file:///Users/feiwang/NewProject_4/assets/resources/scripts/earn/earnView.ts"],"names":["_decorator","Button","instantiate","Label","Node","Prefab","ProgressBar","basePageView","inviteModel","GlobalData","homeView","taskNodeInfo","WebUtils","profileView","ccclass","property","ChangeType","twitterTaskId","taskUrls","SearchTask","ClaimReward","CompleteTask","CheckIn","earnView","type","start","completeTask","id","bindData","window","axios","post","taskId","headers","Authorization","token","checkIn","index","config","method","url","then","taskList","data","code","changeCheckTaskState","homePage","getComponent","invitePage","initData","catch","error","console","log","claimReward","initTaskNode","info","checkInList","forEach","task","setCheckTaskNode","check_btns","on","EventType","CLICK","now","Date","year","getFullYear","month","getMonth","day","getDate","date","clickCheckTaskNode","Telegram","WebApp","showAlert","taskModelResponses","taskListPart","taskModelName","initSocialTaskNode","initDailyTaskNode","sortByStatus","socialTasks","taskResponseList","sort","a","b","status","showCheckInfoPopUp","showPopup","title","message","buttons","text","buttonId","profile","setTwitterInfo","child","social_prefab","taskInfo","updateSocialTaskUiByState","INIT","indexOf","taskData","twitterUserName","twitterOauthUrl","openLink","tryInstantView","scheduleOnce","taskLink","changeDailyOrSocialTaskState","wallet_address","shiftCurrentPage","currentTarget","drawPageBtn","social_parent","addChild","dailyTasks","daily_prefab","updateDailyTaskUiByState","discoverPageBtn","daily_parent","getChildByName","string","String","point","active","node","getRemoteImg","icon","taskReward","taskName","value","update","deltaTime"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Button,\n  Component,\n  EventHandler,\n  EventTouch,\n  instantiate,\n  Label,\n  Node,\n  Prefab,\n  ProgressBar,\n} from \"cc\";\nimport { basePageView } from \"../common/basePageView\";\nimport { inviteModel, taskListResponseType } from \"../invite/inviteModel\";\nimport GlobalData from \"../home/GloabalClass\";\nimport { homeView } from \"../home/homeView\";\nimport { taskNodeInfo } from \"./taskNodeInfo\";\nimport WebUtils from \"../common/WebUtils\";\nimport { profileView } from \"../profile/profileView\";\nconst { ccclass, property } = _decorator;\n\nexport enum ChangeType {\n  INIT = 0,\n  CLICK = 1,\n}\n\nexport const twitterTaskId = [9, 10, 11, 12];\n\nexport interface TaskData {\n  buttonText: string;\n  icon: string;\n  remark: string;\n  showMsg: string;\n  taskDesc: string;\n  taskId: number;\n  taskLink: string;\n  taskName: string;\n  taskReward: number;\n  taskType: number;\n  value1: number;\n  value2: string;\n  status: number;\n}\n\nexport interface TaskDataList {\n  taskResponseList: {\n    buttonText: string;\n    icon: string;\n    remark: string;\n    showMsg: string;\n    taskDesc: string;\n    taskId: number;\n    taskLink: string;\n    taskName: string;\n    taskReward: number;\n    taskType: number;\n    value1: number;\n    value2: string;\n    status: number;\n  }[];\n  taskModelId: number;\n  taskModelName: string;\n  taskType: string;\n}\n\nexport const taskUrls = {\n  SearchTask: \"https://api.infinitytest.cc/api/v1/task/list\",\n  ClaimReward: \"https://api.infinitytest.cc/api/v1/task/claim\",\n  CompleteTask: \"https://api.infinitytest.cc/api/v1/task/complete\",\n  CheckIn: \"https://api.infinitytest.cc/api/v1/task/checkIn\",\n};\n\n@ccclass(\"earnView\")\nexport class earnView extends basePageView {\n  @property(Prefab)\n  social_prefab: Prefab;\n\n  @property(Prefab)\n  daily_prefab: Prefab;\n\n  @property(Node)\n  social_parent: Node;\n\n  @property(Node)\n  daily_parent: Node;\n\n  @property(Node)\n  discoverPage: Node;\n\n  @property(Node)\n  homePage: Node;\n\n  @property({ type: [Node] })\n  check_btns: Node[] = [];\n\n  start() {}\n\n  async completeTask(id: number) {\n    const bindData = await window.axios.post<any>(\n      taskUrls.CompleteTask,\n      {\n        taskId: id,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${GlobalData.token}`,\n        },\n      }\n    );\n  }\n\n  async checkIn(index: number) {\n    var config = {\n      method: \"post\",\n      url: taskUrls.CheckIn,\n      headers: {\n        \"User-Agent\": \"Apifox/1.0.0 (https://apifox.com)\",\n        Authorization: `Bearer ${GlobalData.token}`,\n      },\n    };\n\n    await (window.axios as any)(config)\n      .then(async (taskList: taskListResponseType) => {\n        if (taskList.data.code === \"90000\") {\n          this.changeCheckTaskState(index);\n          await this.homePage.getComponent(homeView).invitePage.getComponent(inviteModel).initData()\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    \n  }\n\n  async claimReward(id: number) {\n    const bindData = await window.axios.post<any>(\n      taskUrls.ClaimReward,\n      {\n        taskId: id,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${GlobalData.token}`,\n        },\n      }\n    );\n    await this.homePage.getComponent(homeView).invitePage.getComponent(inviteModel).initData()\n  }\n\n  initTaskNode(info: taskListResponseType) {\n    info.data.data.checkInList.forEach((task, index) => {\n      this.setCheckTaskNode(task, index);\n      this.check_btns[index].on(\n        Button.EventType.CLICK,\n        async () => {\n          const now = new Date();\n\n          const year = now.getFullYear();\n          const month =\n            now.getMonth() + 1 < 10\n              ? `0${now.getMonth() + 1}`\n              : now.getMonth() + 1;\n          const day = now.getDate() < 10 ? `0${now.getDate()}` : now.getDate();\n\n          const date = `${year}-${month}-${day}`;\n          if (date === task.date) {\n            await this.clickCheckTaskNode(index);\n          } else {\n            window.Telegram.WebApp.showAlert(\"Can only sign in today!\", () => {\n              // 用户点击关闭按钮后调用的回调函数\n              console.log(\"\");\n            });\n          }\n        },\n        this\n      );\n    });\n\n    info.data.data.taskModelResponses.forEach((taskListPart) => {\n      if (taskListPart.taskModelName === \"Social tasks\") {\n        this.initSocialTaskNode(taskListPart as unknown as TaskDataList);\n      }\n      if (taskListPart.taskModelName === \"Daily tasks\") {\n        this.initDailyTaskNode(taskListPart as unknown as TaskDataList);\n      }\n    });\n  }\n\n  sortByStatus(info: TaskDataList) {\n    const socialTasks = info.taskResponseList.sort((a, b) => {\n      // 如果一个是2，另一个不是2，则2在前\n      if (a.status === 2) return -1;\n      if (b.status === 2) return 1;\n\n      // 如果一个是3，另一个不是3，则3在后\n      if (a.status === 3) return 1;\n      if (b.status === 3) return -1;\n\n      // 如果一个是0或1，另一个是3，则0或1在前\n      if ((a.status === 0 || a.status === 1) && b.status === 3) return -1;\n      if ((b.status === 0 || b.status === 1) && a.status === 3) return 1;\n\n      // 如果一个是0或1，另一个是2，则0或1在后\n      if ((a.status === 0 || a.status === 1) && b.status === 2) return 1;\n      if ((b.status === 0 || b.status === 1) && a.status === 2) return -1;\n\n      // 否则，保持原始顺序（即0和1的相对位置不变）\n      return 0;\n    });\n    return socialTasks;\n  }\n\n  showCheckInfoPopUp(){\n    window.Telegram.WebApp.showPopup({\n        title: 'Success',\n        message: 'You have already bound your Twitter!',\n        buttons: [\n          { id: 'button1', text: 'ok' },\n        ]\n      }, async (buttonId) => {\n        // 弹出窗口关闭时的回调函数\n        if (buttonId) {\n          switch (buttonId) {\n            case 'button1':\n              await this.homePage.getComponent(homeView).invitePage.getComponent(inviteModel).initData()\n              this.homePage.getComponent(homeView).profile.getComponent(profileView).setTwitterInfo()\n              break;\n            default:\n              console.log('未知的按钮被点击');\n          }\n        } else {\n          console.log('弹出窗口被关闭，没有点击任何按钮');\n        }\n      });\n  }\n\n  initSocialTaskNode(info: TaskDataList) {\n    const socialTasks = this.sortByStatus(info);\n    socialTasks.forEach((task, index) => {\n      const child = instantiate(this.social_prefab);\n      child.getComponent(taskNodeInfo).taskInfo = task;\n      this.updateSocialTaskUiByState(child, ChangeType.INIT, index);\n      child.on(\n        Button.EventType.CLICK,\n        async () => {\n          if (child.getComponent(taskNodeInfo).taskInfo.status === 3) {\n            return;\n          }\n          if (\n            twitterTaskId.indexOf(\n                child.getComponent(taskNodeInfo).taskInfo.taskId\n            ) >= 0 &&\n            !GlobalData.taskData.data.data.twitterUserName\n          ) {\n            const twitterOauthUrl = `https://www.infinitytest.cc?tgId=${GlobalData.token}`\n            //this.profileView.closeProfile()\n            window.Telegram.WebApp.showPopup({\n                title: 'Please bind your twitter',\n                message: 'Bind your twitter and start the exploration!',\n                buttons: [\n                  { id: 'button1', text: 'bind now' },\n                ]\n              }, (buttonId) => {\n                // 弹出窗口关闭时的回调函数\n                if (buttonId) {\n                  switch (buttonId) {\n                    case 'button1':\n                      window.Telegram.WebApp.openLink(`${twitterOauthUrl}`, { tryInstantView: true });\n                      this.scheduleOnce(()=>{\n                        this.showCheckInfoPopUp()\n                      }, 2)\n                      break;\n                    default:\n                      console.log('');\n                  }\n                } else {\n                  console.log('');\n                }\n              });\n            return;\n          }\n          if (\n            child.getComponent(taskNodeInfo).taskInfo.status === 1 ||\n            child.getComponent(taskNodeInfo).taskInfo.status === 0\n          ) {\n            if(task.taskId !== 16){\n                //是否是钱包任务\n                window.Telegram.WebApp.openLink(task.taskLink, {\n                    tryInstantView: true,\n                  });\n                  await this.completeTask(task.taskId);\n                  this.changeDailyOrSocialTaskState(2, index, child);\n            }else{\n                if(!GlobalData.wallet_address){\n                    window.Telegram.WebApp.showAlert(\"Please bind wallet first!\", () => {\n                        // 用户点击关闭按钮后调用的回调函数\n                        this.homePage\n                        .getComponent(homeView)\n                        .shiftCurrentPage(\n                          {\n                            currentTarget:\n                              this.homePage.getComponent(homeView).drawPageBtn,\n                          } as EventTouch,\n                          \"3\"\n                        );\n                        console.log(\"\");\n                      });\n                }else{\n                    await this.completeTask(task.taskId);\n                    this.changeDailyOrSocialTaskState(2, index, child);\n                }\n            }\n\n          }else if (child.getComponent(taskNodeInfo).taskInfo.status === 2) {\n            await this.claimReward(task.taskId);\n            this.changeDailyOrSocialTaskState(2, index, child);\n          }\n        },\n        this\n      );\n\n      this.social_parent.addChild(child);\n    });\n  }\n\n  initDailyTaskNode(info: TaskDataList) {\n    const dailyTasks = this.sortByStatus(info);\n    dailyTasks.forEach((task, index) => {\n      const child = instantiate(this.daily_prefab);\n      child.getComponent(taskNodeInfo).taskInfo = task;\n      this.updateDailyTaskUiByState(child, ChangeType.INIT, index);\n      child.on(\n        Button.EventType.CLICK,\n        async () => {\n          if (child.getComponent(taskNodeInfo).taskInfo.status === 3) {\n            return;\n          }\n          if (\n            child.getComponent(taskNodeInfo).taskInfo.status === 1 ||\n            child.getComponent(taskNodeInfo).taskInfo.status === 0\n          ) {\n            //跳转大厅\n            this.homePage\n              .getComponent(homeView)\n              .shiftCurrentPage(\n                {\n                  currentTarget:\n                    this.homePage.getComponent(homeView).discoverPageBtn,\n                } as EventTouch,\n                \"0\"\n              );\n            // this.discoverPage.setPosition(0, 0);\n            // this.node.setPosition(-5000, 0);\n            //await this.completeTask(task.taskId);\n            this.changeDailyOrSocialTaskState(3, index, child);\n          }else if (child.getComponent(taskNodeInfo).taskInfo.status === 2) {\n            await this.claimReward(task.taskId);\n            this.changeDailyOrSocialTaskState(3, index, child);\n          }\n        },\n        this\n      );\n\n      this.daily_parent.addChild(child);\n    });\n  }\n\n  async clickCheckTaskNode(index: number) {\n    await this.checkIn(index);\n  }\n\n  setCheckTaskNode(info, index) {\n    this.check_btns[index].getChildByName(\"count\").getComponent(Label).string =\n      String(GlobalData.taskData.data.data.checkInList[index].point);\n    if (info.status === 1) {\n      this.changeCheckTaskState(index);\n    }\n  }\n\n  changeCheckTaskState(index: number) {\n    this.check_btns[index].getChildByName(\"uncoplete\").active = false;\n    this.check_btns[index].getChildByName(\"complete\").active = true;\n    this.check_btns[index].getChildByName(\"check\").active = true;\n    this.check_btns[index].getChildByName(\"dollar\").active = false;\n  }\n\n  changeDailyOrSocialTaskState(type, index, node: Node) {\n    if (type === 2) {\n      this.updateSocialTaskUiByState(node, ChangeType.CLICK, index);\n      //改变ui\n    }\n    if (type === 3) {\n      //改变ui\n      this.updateDailyTaskUiByState(node, ChangeType.CLICK, index);\n    }\n  }\n\n  async updateDailyTaskUiByState(node, type: ChangeType, index: number) {\n    const info = node.getComponent(taskNodeInfo).taskInfo;\n    WebUtils.getRemoteImg(info.icon, node.getChildByName(\"icon\"))\n    node.getChildByName(\"count\").getComponent(Label).string = info.taskReward;\n    node.getChildByName(\"desc\").getComponent(Label).string = info.taskName;\n    //node.getChildByName('ProgressBar').getComponent(ProgressBar).value = info\n\n    if (type === ChangeType.INIT) {\n      if (info.status === 1 || info.status === 0) {\n        node.getChildByName(\"un_complete_bg\").active = true;\n        node.getChildByName(\"complete_bg\").active = false;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 0;\n      }else if (info.status === 2) {\n        node.getChildByName(\"un_complete_bg\").active = false;\n        node.getChildByName(\"complete_bg\").active = true;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n      }else if (info.status === 3) {\n        node.getChildByName(\"un_complete_bg\").active = false;\n        node.getChildByName(\"complete_bg\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n      }\n    } else {\n      if (info.status === 1 || info.status === 0) {\n        // node.getChildByName(\"un_complete_bg\").active = false;\n        // node.getChildByName(\"complete_bg\").active = true;\n        // node.getChildByName(\"dollar\").active = true;\n        // node.getChildByName(\"count\").active = true;\n        // node.getChildByName(\"check\").active = false;\n        // node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n        info.status = 2;\n      }else if (info.status === 2) {\n        node.getChildByName(\"un_complete_bg\").active = false;\n        node.getChildByName(\"complete_bg\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n        node.getChildByName(\"ProgressBar\").getComponent(ProgressBar).value = 1;\n        info.status = 3;\n      }\n    }\n  }\n\n  updateSocialTaskUiByState(node, type: ChangeType, index: number) {\n    const info = node.getComponent(taskNodeInfo).taskInfo;\n    WebUtils.getRemoteImg(info.icon, node.getChildByName(\"icon\"))\n    node.getChildByName(\"count\").getComponent(Label).string = info.taskReward;\n    node.getChildByName(\"desc\").getComponent(Label).string = info.taskName;\n\n    if (type == ChangeType.INIT) {\n      if (info.status === 1 || info.status === 0) {\n        node.getChildByName(\"uncomplete\").active = true;\n        node.getChildByName(\"complete\").active = false;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n      }else if (info.status === 2) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n      }else if (info.status === 3) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n      }\n    } else {\n      if (info.status === 1 || info.status === 0) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = true;\n        node.getChildByName(\"count\").active = true;\n        node.getChildByName(\"check\").active = false;\n        info.status = 2;\n      }else if (info.status === 2) {\n        node.getChildByName(\"uncomplete\").active = false;\n        node.getChildByName(\"complete\").active = true;\n        node.getChildByName(\"dollar\").active = false;\n        node.getChildByName(\"count\").active = false;\n        node.getChildByName(\"check\").active = true;\n        info.status = 3;\n      }\n    }\n  }\n\n  update(deltaTime: number) {}\n}\n"]}