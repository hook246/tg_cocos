{"version":3,"sources":["file:///Users/feiwang/tg_cocos/NewProject_4/assets/resources/scripts/test/testSortChildren.ts"],"names":["_decorator","Component","ccclass","property","NewComponent","start","window","index","upTop","downBottom","children","node","update","deltaTime","startIndex","swap","length","from","to","indexPos","getPosition","firstPos","setPosition","temp","up","console","log","down","lastPos"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, UITransform } from 'cc';\nimport _ from 'lodash'\nconst { ccclass, property } = _decorator;\n\n@ccclass('NewComponent')\nexport class NewComponent extends Component {\n    start() {\n        window['up'] = (index: number)=>{\n            this.upTop(index)\n        } \n\n        window['down'] = (index: number)=>{\n            this.downBottom(index)\n        } \n        const children = this.node.children\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    upTop(startIndex){\n        for(let index = startIndex; index >= 1; index--){\n            this.swap(index, index - 1)\n          }\n    }\n\n    downBottom(startIndex){\n        for(let index = startIndex; index <= this.node.children.length - 1; index++){\n            this.swap(index, index + 1)\n          }\n    }\n\n    swap(from, to){\n        const indexPos = this.node.children[from].getPosition()\n        const firstPos = this.node.children[to].getPosition()\n        this.node.children[to].setPosition(indexPos)\n        this.node.children[from].setPosition(firstPos)\n        const temp = this.node.children[from]\n        this.node.children[from] = this.node.children[to]\n        this.node.children[to] = temp\n    }\n\n    up(index){\n        const indexPos = this.node.children[index].getPosition()\n        const firstPos = this.node.children[0].getPosition()\n        this.node.children[0].setPosition(indexPos)\n        this.node.children[index].setPosition(firstPos)\n        const temp = this.node.children[index]\n        this.node.children[index] = this.node.children[0]\n        this.node.children[0] = temp\n\n        console.log('======up', this.node.children)\n    }\n\n    down(index){\n        const indexPos = this.node.children[index].getPosition()\n        const lastPos = this.node.children[this.node.children.length - 1].getPosition()\n        this.node.children[this.node.children.length - 1].setPosition(indexPos)\n        this.node.children[index].setPosition(lastPos)\n\n        const temp = this.node.children[index]\n        this.node.children[index] = this.node.children[this.node.children.length - 1]\n        this.node.children[this.node.children.length - 1] = temp\n\n        console.log('======down', this.node.children)\n    }\n\n    // sort(){\n    // //    this.node.children.sort((a, b)=>{\n    // //         return b.getComponent(UITransform).width - a.getComponent(UITransform).width\n    // //    })\n    // const array = [0, 1, 2, 3, 0, 1, 2, 3, 0];\n\n    // // 使用 sort 方法进行排序\n    // array.sort((a, b) => {\n    //   // 如果一个是2，另一个不是2，则2在前\n    //   if (a === 2) return -1;\n    //   if (b === 2) return 1;\n    \n    //   // 如果一个是3，另一个不是3，则3在后\n    //   if (a === 3) return 1;\n    //   if (b === 3) return -1;\n    \n    //   // 如果一个是0或1，另一个是3，则0或1在前\n    //   if ((a === 0 || a === 1) && b === 3) return -1;\n    //   if ((b === 0 || b === 1) && a === 3) return 1;\n    \n    //   // 如果一个是0或1，另一个是2，则0或1在后\n    //   if ((a === 0 || a === 1) && b === 2) return 1;\n    //   if ((b === 0 || b === 1) && a === 2) return -1;\n    \n    //   // 否则，保持原始顺序（即0和1的相对位置不变）\n    //   return 0;\n    // });\n    \n    // console.log(array);\n    // // 输出: [2, 2, 0, 0, 1, 1, 3, 3, 3]\n    // // 输出: [2, 2, 0, 0, 1, 1, 3, 3, 3]\n    // // 输出: [2, 2, 0, 0, 1, 1, 3, 3, 3]\n    // }\n}\n\n"]}