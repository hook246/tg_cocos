{"version":3,"sources":["file:///Users/feiwang/tg_cocos/NewProject_4/assets/resources/scripts/draw/drawView.ts"],"names":["_decorator","Label","Node","basePageView","GlobalData","ccclass","property","openRewardPos","drawView_arrow","drawView","start","localStorage","getItem","arrow","active","arrow_s","update","deltaTime","controlUnbindBtnVisible","visible","unBindWalletInfo","controlBindBtnVisible","bindWalletInfo","controlConnectWalletBtnsVisible","walletConnectBtns","showConnectWalletBtns","home","getChildByName","setWalletInfo","address","wallet_address","string","substring","length","setDrawLuckInfo","setDrawLuckRewardInfo","rewardInfo","showOpenRewardInfo","copyWalletInfo","closeBtnConnectWallets","markArrow","scroll","data","setItem","getScrollOffset","y","console","log"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC9BC,MAAAA,Y,iBAAAA,Y;;AACFC,MAAAA,U;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;AAExBO,MAAAA,a,GAAgB,I;AAChBC,MAAAA,c,GAAiB,gB;;0BA2BVC,Q,WADZJ,OAAO,CAAC,UAAD,C,UAELC,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACL,KAAD,C,UAGRK,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,2BAvBX,MACaO,QADb;AAAA;AAAA,wCAC2C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAyBnCC,QAAAA,KAAK,GAAG;AAAA;;AAAA;AACZ,gBAAGC,YAAY,CAACC,OAAb,CAAqBJ,cAArB,CAAH,EAAwC;AACtC,cAAA,KAAI,CAACK,KAAL,CAAWC,MAAX,GAAoB,KAApB;AACA,cAAA,KAAI,CAACC,OAAL,CAAaD,MAAb,GAAsB,IAAtB;AACD;AAJW;AAKb;;AAEDE,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,uBAAuB,CAACC,OAAD,EAAmB;AACxC,eAAKC,gBAAL,CAAsBN,MAAtB,GAA+BK,OAA/B;AACD;;AAEDE,QAAAA,qBAAqB,CAACF,OAAD,EAAmB;AACtC,eAAKG,cAAL,CAAoBR,MAApB,GAA6BK,OAA7B;AACD;;AAEDI,QAAAA,+BAA+B,CAACJ,OAAD,EAAmB;AAChD,eAAKK,iBAAL,CAAuBV,MAAvB,GAAgCK,OAAhC;AACD;;AAEDM,QAAAA,qBAAqB,GAAG;AACtB,eAAKF,+BAAL,CAAqC,IAArC;AACA,eAAKG,IAAL,CAAUC,cAAV,CAAyB,UAAzB,EAAqCb,MAArC,GAA8C,KAA9C;AACD;;AAEDc,QAAAA,aAAa,CAACC,OAAD,EAAkB;AAC7B;AAAA;AAAA,wCAAWC,cAAX,GAA4BD,OAA5B;AACA,eAAKR,qBAAL,CAA2B,KAA3B;AACA,eAAKH,uBAAL,CAA6B,IAA7B;AACA,eAAKW,OAAL,CAAaE,MAAb,GAAyBF,OAAO,CAACG,SAAR,CAAkB,CAAlB,EAAqB,CAArB,CAAzB,WAAsDH,OAAO,CAACG,SAAR,CACpDH,OAAO,CAACI,MAAR,GAAiB,CADmC,CAAtD;AAGD;;AAEDC,QAAAA,eAAe,GAAG,CAAE,CA9DqB,CAgEzC;;;AACAC,QAAAA,qBAAqB,CAACC,UAAD,EAA+B,CAAE,CAjEb,CAmEzC;;;AACAC,QAAAA,kBAAkB,GAAE,CAEnB;;AAEDC,QAAAA,cAAc,GAAG,CAAE;;AAEnBC,QAAAA,sBAAsB,GAAG;AACvB,eAAKhB,+BAAL,CAAqC,KAArC;AACA,eAAKG,IAAL,CAAUC,cAAV,CAAyB,UAAzB,EAAqCb,MAArC,GAA8C,IAA9C;AACD;;AAED0B,QAAAA,SAAS,CAACC,MAAD,EAAqBC,IAArB,EAA0B;AACjC/B,UAAAA,YAAY,CAACgC,OAAb,CAAqBnC,cAArB,EAAqC,gBAArC;AACA,eAAKK,KAAL,CAAWC,MAAX,GAAoB,KAApB;AACA,eAAKC,OAAL,CAAaD,MAAb,GAAsB,IAAtB;;AAEA,cAAG2B,MAAM,CAACG,eAAP,GAAyBC,CAAzB,IAA8BtC,aAAjC,EAA+C,CAE9C;;AACDuC,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BN,MAA3B,EAAmCC,IAAnC;AACD;;AAxFwC,O","sourcesContent":["import { _decorator, Component, Label, Node, ScrollView } from \"cc\";\nimport { basePageView } from \"../common/basePageView\";\nimport GlobalData from \"../home/GloabalClass\";\nconst { ccclass, property } = _decorator;\n\nconst openRewardPos = 1000\nconst drawView_arrow = 'drawView_arrow'\n\nexport interface QueryDrawRespDTO {\n  confirm: boolean;\n  example: false;\n  //开奖信息是否确认：false:未确认,true:已确认\n\n  count: number;\n  //当前参加抽奖人数\n\n  drawId: number;\n  //当前奖池ID\n\n  drawTime: number;\n  //当前抽奖剩余开奖时间，时间戳\n\n  join: boolean;\n  openDrawId: number;\n  //已开奖的奖池ID\n\n  usdt: number;\n  //中奖奖品\n\n  win: boolean;\n}\n\n@ccclass(\"drawView\")\nexport class drawView extends basePageView {\n  @property(Node)\n  walletConnectBtns: Node;\n\n  @property(Node)\n  unBindWalletInfo: Node;\n\n  @property(Node)\n  bindWalletInfo: Node;\n\n  @property(Label)\n  address: Label;\n\n  @property(Node)\n  home: Node;\n\n  @property(Node)\n  joinBtn: Node;\n\n  @property(Node)\n  arrow: Node;\n\n  @property(Node)\n  arrow_s: Node;\n\n  async start() {\n    if(localStorage.getItem(drawView_arrow)){\n      this.arrow.active = false\n      this.arrow_s.active = true\n    }\n  }\n\n  update(deltaTime: number) {\n\n  }\n\n  controlUnbindBtnVisible(visible: boolean) {\n    this.unBindWalletInfo.active = visible;\n  }\n\n  controlBindBtnVisible(visible: boolean) {\n    this.bindWalletInfo.active = visible;\n  }\n\n  controlConnectWalletBtnsVisible(visible: boolean) {\n    this.walletConnectBtns.active = visible;\n  }\n\n  showConnectWalletBtns() {\n    this.controlConnectWalletBtnsVisible(true);\n    this.home.getChildByName(\"tap_btns\").active = false;\n  }\n\n  setWalletInfo(address: string) {\n    GlobalData.wallet_address = address;\n    this.controlBindBtnVisible(false);\n    this.controlUnbindBtnVisible(true);\n    this.address.string = `${address.substring(0, 6)}...${address.substring(\n      address.length - 6\n    )}`;\n  }\n\n  setDrawLuckInfo() {}\n\n  //设置当前开奖情况的信息\n  setDrawLuckRewardInfo(rewardInfo :QueryDrawRespDTO) {}\n\n  //展示当前的开奖信息\n  showOpenRewardInfo(){\n    \n  }\n\n  copyWalletInfo() {}\n\n  closeBtnConnectWallets() {\n    this.controlConnectWalletBtnsVisible(false);\n    this.home.getChildByName(\"tap_btns\").active = true;\n  }\n\n  markArrow(scroll: ScrollView, data){\n    localStorage.setItem(drawView_arrow, 'drawView_arrow')\n    this.arrow.active = false\n    this.arrow_s.active = true\n\n    if(scroll.getScrollOffset().y >= openRewardPos){\n\n    }\n    console.log('=====scroll', scroll, data)\n  }\n}\n"]}